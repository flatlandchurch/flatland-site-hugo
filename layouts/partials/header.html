<header class="header--white">
    <div class="red-bar">
        <div class="red-bar__content">
            <p></p>
            <a href="" class="btn">Learn More</a>
        </div>
    </div>
    <nav class="desktop-nav">
        <ul>
            <li><a href="/about">About</a></li>
            <li id="watch-link"><a href="/sermons">Sermons</a></li>
            <li><a href="/events">Events</a></li>
            <li><a href="/" class="logo" aria-label="Home">{{ partial "logo.html" . }}</a></li>
            <li class="has-submenu">
                <button>Ministries</button>
                <ul class="submenu">
                    <li><a href="/flatland-101">Flatland 101</a></li>
                    <li><a href="/youth">Youth</a></li>
                    <li><a href="/kids">Kids</a></li>
                    <li><a href="/discipleship">Discipleship</a></li>
                    <li><a href="/groups">Groups</a></li>
                    <li><a href="https://flatland.churchcenter.com/people/forms/245824">Join a Team</a></li>
                  </ul>
            </li>
            <li><a href="/give">Give</a></li>
            <li id="news-link"><a href="https://today.flatland.church?noCard=true">News</a></li>
<!--            <li>-->
<!--                <button class="btn__icon">-->
<!--                    <i class="fas fa-search"></i>-->
<!--                </button>-->
<!--            </li>-->
        </ul>
    </nav>
    <nav class="mobile-nav">
        <a href="/" class="logo">{{ partial "logo.html" . }}</a>

        <div>
<!--            <button class="btn__icon">-->
<!--                <i class="fas fa-search"></i>-->
<!--            </button>-->
            <button class="btn__icon btn__icon--hamburger" aria-label="Open Menu">
                <div>
                    <span></span>
                </div>
            </button>
        </div>
    </nav>
    {{ partial "menu.html" . }}
    <script>
      (({ height }) => {
        if (window.location.pathname === '/') {
          document.querySelector('header').className = "";

          const scrollListener = () => {
            const { y } = document.querySelector('h1').getBoundingClientRect();
            if (y - height <= 0) {
              document.querySelector('header').className = "header--white";
            } else if (y - height > 0) {
              document.querySelector('header').className = "";
            }
          };

          window.addEventListener('scroll', scrollListener);
        }
      })(document.querySelector('header').getBoundingClientRect());

      !function() {
        document.querySelector('.btn__icon--hamburger').addEventListener('click', () => {
          const menu = document.querySelector('.menu');
          menu.className = menu.className.includes('active') ? 'menu' : 'menu active';
        })
      }();
    </script>
</header>
